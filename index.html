<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üòÇ –ü—Ä–∏–∫–æ–ª—é—à–Ω–∏–∫ —Å –¥—Ä—É–∑—å—è–º–∏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes spamPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); box-shadow: 0 0 30px red; }
        }
        .message { animation: fadeIn 0.3s ease-out; }
        .spam-active { animation: spamPulse 0.5s infinite; }
        .joke-btn:hover { transform: rotate(-5deg) scale(1.1); }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-900 via-pink-800 to-red-900 min-h-screen text-white">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- –®–∞–ø–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π -->
        <header class="text-center mb-8">
            <h1 class="text-5xl font-bold mb-4">
                <span class="bg-gradient-to-r from-yellow-300 to-pink-400 bg-clip-text text-transparent">
                    ü§£ –ü–†–ò–ö–û–õ–Æ–®–ù–ò–ö 3000
                </span>
            </h1>
            <p class="text-xl text-gray-200">–°–∞–π—Ç –¥–ª—è –¥–∏–∫–æ–≥–æ —Ç—Ä–æ–ª–ª–∏–Ω–≥–∞ –¥—Ä—É–∑–µ–π</p>
            <div class="inline-flex items-center mt-4 bg-black/30 rounded-full px-6 py-2">
                <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse mr-2"></div>
                <span id="onlineCount">0</span> –¥—Ä—É–∑–µ–π –æ–Ω–ª–∞–π–Ω
            </div>
        </header>

        <!-- –°–µ–∫—Ä–µ—Ç–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="bg-black/40 backdrop-blur-lg rounded-2xl p-6 mb-6 border-2 border-yellow-500/50">
            <h2 class="text-2xl font-bold mb-4 text-yellow-300">
                <i class="fas fa-bomb mr-3"></i>–°–ï–ö–†–ï–¢–ù–û–ï –û–†–£–ñ–ò–ï
            </h2>
            <p class="mb-4 text-gray-300">–í–≤–µ–¥–∏ –∫–æ–¥ <span class="bg-black px-2 py-1 rounded">7734</span> –∏ —Å–ø–∞–º–Ω–∏ –∫–∞—Ä—Ç–∏–Ω–∫–æ–π –≤—Å–µ–º!</p>
            <div class="flex gap-4">
                <input type="password" id="secretCode" 
                       class="flex-grow bg-black/50 border-2 border-yellow-500/50 rounded-xl px-4 py-3 text-lg"
                       placeholder="–í–≤–µ–¥–∏ 7734...">
                <button onclick="activateSpam()" 
                        class="bg-gradient-to-r from-red-600 to-orange-500 hover:from-red-700 hover:to-orange-600 px-8 py-3 rounded-xl font-bold text-lg transition-all transform hover:scale-105 active:scale-95">
                    <i class="fas fa-rocket mr-2"></i>–°–ü–ê–ú–ò–¢–¨!
                </button>
            </div>
        </div>

        <!-- –ß–∞—Ç -->
        <div class="bg-black/30 backdrop-blur-lg rounded-2xl p-6 mb-6 border border-white/20">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">
                    <i class="fas fa-comments mr-3 text-blue-400"></i>–ß–ê–¢ –î–õ–Ø –¢–†–û–õ–õ–ò–ù–ì–ê
                </h2>
                <button onclick="sendJoke()" class="joke-btn bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 px-6 py-3 rounded-xl font-bold transition-all">
                    <i class="fas fa-gift mr-2"></i>–ö–ò–ù–£–¢–¨ –ü–†–ò–ö–û–õ
                </button>
            </div>

            <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
            <div id="messages" class="space-y-4 mb-6 max-h-96 overflow-y-auto p-4 bg-black/20 rounded-xl">
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
                <div class="text-center text-gray-400 py-8">
                    <i class="fas fa-comment-slash text-4xl mb-4"></i>
                    <p>–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç —ç–ø–∏—á–Ω—ã–º!</p>
                </div>
            </div>

            <!-- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π -->
            <div class="flex gap-4">
                <input type="text" id="username" 
                       class="w-1/4 bg-black/50 border border-white/30 rounded-xl px-4 py-3"
                       placeholder="–¢–≤–æ–µ –∏–º—è" value="–ê–Ω–æ–Ω–∏–º–Ω—ã–π —Ç—Ä–æ–ª–ª—å">
                <input type="text" id="messageInput" 
                       class="flex-grow bg-black/50 border border-white/30 rounded-xl px-4 py-3"
                       placeholder="–ù–∞–ø–∏—à–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å —Å–º–µ—à–Ω–æ–µ..." 
                       onkeypress="if(event.key=='Enter') sendMessage()">
                <button onclick="sendMessage()" 
                        class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-xl font-bold transition-all transform hover:scale-105">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>

            <!-- –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–∫–æ–ª—ã -->
            <div class="mt-6 grid grid-cols-2 md:grid-cols-4 gap-3">
                <button onclick="quickMessage('üòÇ –û—Ñ–∏–≥–µ–Ω–Ω–∞—è —Ç–µ–º–∞!')" class="bg-blue-600/50 hover:bg-blue-700/50 p-3 rounded-lg transition-colors">
                    üòÇ –û—Ñ–∏–≥–µ–Ω–Ω–∞—è —Ç–µ–º–∞!
                </button>
                <button onclick="quickMessage('üî• –≠—Ç–æ –≤–æ–æ–±—â–µ –∑–∞–∫–æ–Ω–Ω–æ?')" class="bg-red-600/50 hover:bg-red-700/50 p-3 rounded-lg transition-colors">
                    üî• –≠—Ç–æ –≤–æ–æ–±—â–µ –∑–∞–∫–æ–Ω–Ω–æ?
                </button>
                <button onclick="quickMessage('üéÆ –ö—Ç–æ –∏–≥—Ä–∞–µ—Ç?')" class="bg-green-600/50 hover:bg-green-700/50 p-3 rounded-lg transition-colors">
                    üéÆ –ö—Ç–æ –∏–≥—Ä–∞–µ—Ç?
                </button>
                <button onclick="sendRandomImage()" class="bg-yellow-600/50 hover:bg-yellow-700/50 p-3 rounded-lg transition-colors">
                    üì∏ –°–ª—É—á–∞–π–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞
                </button>
            </div>
        </div>

        <!-- –ì–∞–ª–µ—Ä–µ—è –º–µ–º–æ–≤ -->
        <div class="bg-black/30 backdrop-blur-lg rounded-2xl p-6 border border-white/20">
            <h2 class="text-2xl font-bold mb-4">
                <i class="fas fa-images mr-3 text-green-400"></i>–ì–ê–õ–ï–†–ï–Ø –ü–†–ò–ö–û–õ–û–í
            </h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <img src="https://i.imgur.com/DgqQ0hK.jpeg" class="w-full h-32 object-cover rounded-xl cursor-pointer hover:scale-105 transition-transform" onclick="sendImage(this.src)">
                <img src="https://i.imgur.com/8v9gU1L.jpeg" class="w-full h-32 object-cover rounded-xl cursor-pointer hover:scale-105 transition-transform" onclick="sendImage(this.src)">
                <img src="https://i.imgur.com/9E8g3vZ.jpeg" class="w-full h-32 object-cover rounded-xl cursor-pointer hover:scale-105 transition-transform" onclick="sendImage(this.src)">
                <img src="https://i.imgur.com/7Q9gT2L.jpeg" class="w-full h-32 object-cover rounded-xl cursor-pointer hover:scale-105 transition-transform" onclick="sendImage(this.src)">
            </div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å -->
        <footer class="mt-8 text-center text-gray-300">
            <p>–°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–∞–≥–∏–∏ –∏ –∫–æ—Ñ–µ ‚òï ‚Ä¢ –°–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è 24 —á–∞—Å–∞</p>
            <p class="text-sm mt-2">–ö–∏–¥–∞–π —Å—Å—ã–ª–∫—É –¥—Ä—É–∑—å—è–º: <span id="siteUrl" class="bg-black/50 px-3 py-1 rounded">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Å–ø–∞–º–∞ -->
    <div id="spamModal" class="hidden fixed inset-0 bg-black/90 z-50 flex items-center justify-center">
        <div class="bg-gradient-to-br from-red-900 to-orange-900 rounded-2xl p-8 max-w-md text-center border-4 border-yellow-500">
            <h2 class="text-3xl font-bold mb-4 text-yellow-300">üöÄ –°–ü–ê–ú –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!</h2>
            <div class="text-6xl mb-6">ü§Ø</div>
            <p class="text-xl mb-6">–í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —á–∞—Ç–∞ —Å–µ–π—á–∞—Å –ø—Ä–∏–ª–µ—Ç–∏—Ç —ç–ø–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞!</p>
            <button onclick="closeSpamModal()" class="bg-black/50 hover:bg-black/70 px-8 py-3 rounded-xl text-lg">
                –ü–†–û–î–û–õ–ñ–ò–¢–¨ –¢–†–û–õ–õ–ò–ù–ì
            </button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js"></script>
    
    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase (–ë–ï–°–ü–õ–ê–¢–ù–û!)
        const firebaseConfig = {
            apiKey: "AIzaSyC7zBrXvPEHfRcqtVHJfEYJ0V0ywGIHBME",
            authDomain: "fun-messenger-28b3d.firebaseapp.com",
            databaseURL: "https://fun-messenger-28b3d-default-rtdb.firebaseio.com",
            projectId: "fun-messenger-28b3d",
            storageBucket: "fun-messenger-28b3d.appspot.com",
            messagingSenderId: "568950856309",
            appId: "1:568950856309:web:3c6d4c37b5c53ddb7be8b9"
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let userId = Math.random().toString(36).substring(7);
        let isAdmin = false;
        let onlineUsers = {};

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∞–π—Ç
        document.getElementById('siteUrl').textContent = window.location.href;

        // –°–ª—É—à–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
        db.ref('messages').limitToLast(20).on('value', (snapshot) => {
            const messagesDiv = document.getElementById('messages');
            messagesDiv.innerHTML = '';
            
            const messages = snapshot.val() || {};
            Object.values(messages).forEach(msg => {
                const div = document.createElement('div');
                div.className = 'message bg-white/10 p-4 rounded-xl';
                div.innerHTML = `
                    <div class="flex justify-between mb-2">
                        <span class="font-bold ${msg.isSystem ? 'text-yellow-300' : 'text-blue-300'}">
                            ${msg.username} ${msg.isSystem ? '‚ö°' : ''}
                        </span>
                        <span class="text-gray-400 text-sm">${msg.time || ''}</span>
                    </div>
                    ${msg.text ? `<p class="mb-2">${msg.text}</p>` : ''}
                    ${msg.image ? `<img src="${msg.image}" class="max-w-full rounded-lg mt-2">` : ''}
                `;
                messagesDiv.appendChild(div);
            });
            
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        });

        // –°–ª—É—à–∞–µ–º –æ–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        db.ref('online').on('value', (snapshot) => {
            const users = snapshot.val() || {};
            onlineUsers = users;
            document.getElementById('onlineCount').textContent = Object.keys(users).length;
        });

        // –û—Ç–º–µ—Ç–∏—Ç—å —Å–µ–±—è –æ–Ω–ª–∞–π–Ω
        db.ref('online/' + userId).set({
            name: document.getElementById('username').value,
            timestamp: Date.now()
        });

        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
        function sendMessage() {
            const username = document.getElementById('username').value || '–ê–Ω–æ–Ω–∏–º';
            const text = document.getElementById('messageInput').value;
            
            if (!text.trim()) return;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–¥–∞
            if (text === '7734') {
                activateSpam();
                document.getElementById('messageInput').value = '';
                return;
            }
            
            const messageData = {
                username: username,
                text: text,
                time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
                userId: userId,
                timestamp: Date.now()
            };
            
            db.ref('messages').push(messageData);
            document.getElementById('messageInput').value = '';
            
            // –ó–≤—É–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
            playSound('send');
        }

        // –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        function quickMessage(text) {
            document.getElementById('messageInput').value = text;
            sendMessage();
        }

        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É
        function sendImage(url) {
            const username = document.getElementById('username').value || '–ê–Ω–æ–Ω–∏–º';
            db.ref('messages').push({
                username: username,
                image: url,
                time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
                timestamp: Date.now()
            });
            playSound('image');
        }

        // –°–ª—É—á–∞–π–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞
        function sendRandomImage() {
            const memes = [
                'https://i.imgur.com/DgqQ0hK.jpeg',
                'https://i.imgur.com/8v9gU1L.jpeg',
                'https://i.imgur.com/9E8g3vZ.jpeg',
                'https://i.imgur.com/7Q9gT2L.jpeg',
                'https://i.imgur.com/m8QjwVp.jpeg',
                'https://i.imgur.com/2g9F1hT.jpeg'
            ];
            sendImage(memes[Math.floor(Math.random() * memes.length)]);
        }

        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø–∞–º–∞ (–∫–æ–¥ 7734)
        function activateSpam() {
            const code = document.getElementById('secretCode').value;
            
            if (code === '7734') {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä—É—Ç—É—é –∞–Ω–∏–º–∞—Ü–∏—é
                document.getElementById('spamModal').classList.remove('hidden');
                document.body.classList.add('spam-active');
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–ø–∞–º-—Å–æ–æ–±—â–µ–Ω–∏–µ
                db.ref('messages').push({
                    username: '‚ö° –°–ò–°–¢–ï–ú–ù–´–ô –°–ü–ê–ú ‚ö°',
                    text: '–í–ù–ò–ú–ê–ù–ò–ï! –ê–ö–¢–ò–í–ò–†–û–í–ê–ù –°–ï–ö–†–ï–¢–ù–´–ô –ö–û–î 7734!',
                    image: 'https://i.imgur.com/okak.png', // –ó–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ—é –∫–∞—Ä—Ç–∏–Ω–∫—É
                    isSystem: true,
                    time: new Date().toLocaleTimeString(),
                    timestamp: Date.now()
                });
                
                // –ó–≤—É–∫ —Å–ø–∞–º–∞
                playSound('spam');
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–ª–µ
                document.getElementById('secretCode').value = '';
                
                // –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
                setTimeout(closeSpamModal, 3000);
            } else {
                alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥! –ù—É–∂–Ω–æ 7734 üòâ');
            }
        }

        function closeSpamModal() {
            document.getElementById('spamModal').classList.add('hidden');
            document.body.classList.remove('spam-active');
        }

        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–∫–æ–ª
        function sendJoke() {
            const jokes = [
                "–ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –ø—É—Ç–∞—é—Ç –•—ç–ª–ª–æ—É–∏–Ω –∏ –†–æ–∂–¥–µ—Å—Ç–≤–æ? –ü–æ—Ç–æ–º—É —á—Ç–æ Oct 31 == Dec 25!",
                "–ö–æ–ª–æ–±–æ–∫ –ø–æ–≤–µ—Å–∏–ª—Å—è...",
                "–ß—Ç–æ —Å–∫–∞–∑–∞–ª —Å–ª–æ–Ω, –∫–æ–≥–¥–∞ –Ω–∞—Å—Ç—É–ø–∏–ª –Ω–∞ –∫–æ–ª–æ–±–∫–∞? - –ü–ª–æ—Ö–æ –∏—Å–ø–µ–∫–ª–∏.",
                "–¢–∏–ø–∏—á–Ω—ã–π –¥–∏–∞–ª–æ–≥ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤: - –ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞? - 200 OK"
            ];
            
            const username = document.getElementById('username').value || '–ê–Ω–æ–Ω–∏–º';
            db.ref('messages').push({
                username: username,
                text: jokes[Math.floor(Math.random() * jokes.length)],
                time: new Date().toLocaleTimeString(),
                timestamp: Date.now(),
                isJoke: true
            });
            
            playSound('joke');
        }

        // –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
        function playSound(type) {
            if (type === 'spam') {
                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ —Å–ø–∞–º–∞
                try {
                    const audio = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-bomb-explosion-2800.mp3');
                    audio.volume = 0.3;
                    audio.play();
                } catch(e) {}
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–º–µ–Ω–∏
        document.getElementById('username').addEventListener('change', function() {
            db.ref('online/' + userId).update({
                name: this.value
            });
        });

        // –£—Ö–æ–¥–∏–º –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('beforeunload', () => {
            db.ref('online/' + userId).remove();
        });

        // –ê–≤—Ç–æ–æ—Ç–º–µ—Ç–∫–∞ –æ–Ω–ª–∞–π–Ω –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
        setInterval(() => {
            db.ref('online/' + userId).update({
                timestamp: Date.now()
            });
        }, 30000);

        // –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        setInterval(() => {
            const now = Date.now();
            Object.keys(onlineUsers).forEach(userId => {
                if (now - onlineUsers[userId].timestamp > 60000) {
                    db.ref('online/' + userId).remove();
                }
            });
        }, 60000);
    </script>
</body>
</html>
